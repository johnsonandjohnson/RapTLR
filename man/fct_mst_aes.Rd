% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mst_aes.R
\name{fct_mst_aes}
\alias{fct_mst_aes}
\title{Generate Most Common Adverse Events Summary Text}
\usage{
fct_mst_aes(
  arg_data,
  arg_data_adsl,
  arg_grp,
  arg_var,
  arg_trt_flt = NULL,
  arg_frq = 15,
  arg_freq_num = TRUE,
  arg_rounding = 1
)
}
\arguments{
\item{arg_data}{A data frame containing adverse event data (e.g., ADAE dataset).
Must include USUBJID for subject identification.}

\item{arg_data_adsl}{A data frame containing subject-level data (ADSL dataset).
Must include USUBJID and the grouping variable specified in arg_grp.}

\item{arg_grp}{A grouping variable (unquoted) for treatment groups (e.g., ARM, TRT01A).}

\item{arg_var}{A variable (unquoted) containing the adverse event terms to analyze
(e.g., AEDECOD for preferred terms, AEBODSYS for system organ class).}

\item{arg_trt_flt}{A treatment group variable (unquoted, can use backticks for names
with spaces) to use for filtering. Only events with frequency >= arg_frq in this
treatment group will be included. Default is NULL.}

\item{arg_frq}{Numeric threshold for minimum frequency percentage. Only events with
frequency >= this value in the arg_trt_flt treatment group are included. Default is 15.}

\item{arg_freq_num}{Logical. If TRUE, returns frequency as numeric; if FALSE, as
percentage string. Default is TRUE.}

\item{arg_rounding}{Number of decimal places for rounding frequencies. Default is 1.}
}
\value{
A character string containing a formatted summary of the most common adverse
events, including frequencies for each treatment group, suitable for inclusion in
clinical study reports.
}
\description{
This function analyzes adverse event data to identify and summarize the most common
treatment-emergent adverse events (TEAEs) by treatment group. It merges AE data with
subject-level data, calculates frequencies, filters by a specified threshold, and
generates a formatted text summary suitable for clinical study reports.
}
\examples{
data(tlr_adae)
data(tlr_adsl)

# Find most common AEs (>=15\%) in Xanomeline High Dose group
fct_mst_aes(
  arg_data = tlr_adae,
  arg_data_adsl = tlr_adsl,
  arg_grp = ARM,
  arg_var = AEDECOD,
  arg_trt_flt = `Xanomeline High Dose`
)

# Find most common AEs (>=10\%) with 2 decimal places
fct_mst_aes(
  arg_data = tlr_adae,
  arg_data_adsl = tlr_adsl,
  arg_grp = TRT01A,
  arg_var = AEDECOD,
  arg_trt_flt = `Xanomeline High Dose`,
  arg_frq = 10,
  arg_rounding = 2
)

# Analyze by system organ class instead of preferred term
fct_mst_aes(
  arg_data = tlr_adae,
  arg_data_adsl = tlr_adsl,
  arg_grp = ARM,
  arg_var = AEBODSYS,
  arg_trt_flt = `Xanomeline High Dose`,
  arg_frq = 20
)

}
