% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smpl_rest.R
\name{fct_smpl_rest}
\alias{fct_smpl_rest}
\title{Count Records in Dataset with Custom Text Formatting}
\usage{
fct_smpl_rest(
  arg_dataset,
  arg_text_desc = "",
  arg_text_end = "",
  arg_fl_rest,
  arg_var_rest,
  arg_lbl = c("nbr", "pct", "nbr-pct")
)
}
\arguments{
\item{arg_dataset}{A data frame or tibble to filter and count.}

\item{arg_text_desc}{Character string to prepend before the count result. Default is "".}

\item{arg_text_end}{Character string to append after the count result. Default is "".}

\item{arg_fl_rest}{An optional first filtering expression to apply before counting.
Better to use on flag like safety set and to compute the \% on that population.}

\item{arg_var_rest}{An optional second filtering expression to apply after the first filter.}

\item{arg_lbl}{Output format for the count. Can be "nbr" (number only), "pct" (percentage only),
or "nbr-pct" (number and percentage). Default is "nbr".}
}
\value{
A character string containing the custom text and count in the specified format:
\itemize{
\item For "nbr": The count as a number
\item For "pct": The percentage with \% symbol
\item For "nbr-pct": Count followed by percentage in parentheses
Returns NA_character_ if the filtered dataset has zero rows.
}
}
\description{
Returns the count of records in a dataset with customizable descriptive text.
The dataset can be filtered using two optional filtering conditions, and the
output can include custom text before and after the count.
}
\examples{
# Load adsl data from this package
data("tlr_adsl", package = "RapTLR")

# Without filtering, return the number of rows
fct_smpl_rest(arg_dataset = tlr_adsl)

# Adding one restriction on safety set only 
fct_smpl_rest(arg_dataset = tlr_adsl, 
              arg_fl_rest = SAFFL == "Y")

# Return the number of subjects Xanomeline High Dose in safety set
fct_smpl_rest(arg_dataset = tlr_adsl, 
              arg_fl_rest = SAFFL == "Y", 
              arg_var_rest = ARM == "Xanomeline High Dose") 

# Return number and pct based on overall safety set subject
fct_smpl_rest(arg_dataset = tlr_adsl, 
              arg_fl_rest = SAFFL == "Y", 
              arg_var_rest = ARM == "Xanomeline High Dose", 
              arg_lbl = "nbr-pct") 

# Can also have multiple conditions using '&'
fct_smpl_rest(arg_dataset = tlr_adsl, 
              arg_fl_rest = ARM == "Xanomeline High Dose" & AGE <= 60)

# Using percentage format
fct_smpl_rest(arg_dataset = tlr_adsl,
              arg_var_rest = SEX == "F",
              arg_lbl = "pct")

# With custom descriptive text
fct_smpl_rest(arg_dataset = tlr_adsl,
              arg_text_desc = "This study enrolled ",
              arg_text_end = " participants",
              arg_fl_rest = SAFFL == "Y")

# Creating a complete sentence for a report
fct_smpl_rest(arg_dataset = tlr_adsl,
              arg_text_desc = "Among the safety population, ",
              arg_text_end = " were female",
              arg_fl_rest = SAFFL == "Y",
              arg_var_rest = SEX == "F",
              arg_lbl = "nbr-pct")

# Multiple filters with descriptive text
fct_smpl_rest(arg_dataset = tlr_adsl,
              arg_text_desc = "There were ",
              arg_text_end = " elderly participants",
              arg_fl_rest = SAFFL == "Y",
              arg_var_rest = AGE >= 65)

}
